System.register(["jotai/vanilla"],function(x){"use strict";var d;return{setters:[function(k){d=k.atom}],execute:function(){x({atomFamily:_,atomWithDefault:X,atomWithLazy:ft,atomWithObservable:et,atomWithReducer:$,atomWithRefresh:lt,atomWithReset:J,atomWithStorage:tt,createJSONStorage:D,freezeAtom:A,freezeAtomCreator:q,loadable:ot,selectAtom:K,splitAtom:U,unstable_withStorageValidator:Y,unwrap:ct});const k=x("RESET",Symbol(""));function J(t){const n=d(t,(r,u,a)=>{const s=typeof a=="function"?a(r(n)):a;u(n,s===k?t:s)});return n}function $(t,n){return d(t,function(r,u,a){u(this,n(r(this),a))})}function _(t,n){let r=null;const u=new Map,a=s=>{let e;if(n===void 0)e=u.get(s);else for(const[c,o]of u)if(n(c,s)){e=o;break}if(e!==void 0)if(r!=null&&r(e[1],s))a.remove(s);else return e[0];const i=t(s);return u.set(s,[i,Date.now()]),i};return a.remove=s=>{if(n===void 0)u.delete(s);else for(const[e]of u)if(n(e,s)){u.delete(e);break}},a.setShouldRemove=s=>{if(r=s,!!r)for(const[e,i]of u)r(i[1],e)&&u.delete(e)},a}const I=(t,n,r)=>(n.has(r)?n:n.set(r,t())).get(r),C=new WeakMap,F=(t,n,r,u)=>{const a=I(()=>new WeakMap,C,n),s=I(()=>new WeakMap,a,r);return I(t,s,u)};function K(t,n,r=Object.is){return F(()=>{const u=Symbol(),a=([e,i])=>{if(i===u)return n(e);const c=n(e,i);return r(i,c)?i:c},s=d(e=>{const i=e(s),c=e(t);return a([c,i])});return s.init=u,s},t,n,r)}const j=new WeakSet,M=t=>{if(typeof t!="object"||t===null)return;Object.freeze(t);const n=Object.getOwnPropertyNames(t);for(const r of n){const u=t[r];M(u)}return t};function A(t){if(j.has(t))return t;j.add(t);const n=t.read;if(t.read=function(r,u){return M(n.call(this,r,u))},"write"in t){const r=t.write;t.write=function(u,a,...s){return r.call(this,u,(...e)=>(e[0]===t&&(e[1]=M(e[1])),a(...e)),...s)}}return t}function q(t){return(...n)=>A(t(...n))}const R=(t,n,r)=>(n.has(r)?n:n.set(r,t())).get(r),B=new WeakMap,G=(t,n,r)=>{const u=R(()=>new WeakMap,B,n);return R(t,u,r)},H={},P=t=>!!t.write,Q=t=>typeof t=="function";function U(t,n){return G(()=>{const r=new WeakMap,u=(e,i)=>{let c=r.get(e);if(c)return c;const o=i&&r.get(i),l=[],f=[];return e.forEach((b,h)=>{const m=n?n(b):h;f[h]=m;const p=o&&o.atomList[o.keyList.indexOf(m)];if(p){l[h]=p;return}const O=g=>{const v=g(a),y=g(t),S=u(y,v==null?void 0:v.arr).keyList.indexOf(m);if(S<0||S>=y.length){const w=e[u(e).keyList.indexOf(m)];if(w)return w;throw new Error("splitAtom: index out of bounds for read")}return y[S]},L=(g,v,y)=>{const S=g(a),w=g(t),W=u(w,S==null?void 0:S.arr).keyList.indexOf(m);if(W<0||W>=w.length)throw new Error("splitAtom: index out of bounds for write");const V=Q(y)?y(w[W]):y;Object.is(w[W],V)||v(t,[...w.slice(0,W),V,...w.slice(W+1)])};l[h]=P(t)?d(O,L):d(O)}),o&&o.keyList.length===f.length&&o.keyList.every((b,h)=>b===f[h])?c=o:c={arr:e,atomList:l,keyList:f},r.set(e,c),c},a=d(e=>{const i=e(a),c=e(t);return u(c,i==null?void 0:i.arr)});a.init=void 0;const s=P(t)?d(e=>e(a).atomList,(e,i,c)=>{switch(c.type){case"remove":{const o=e(s).indexOf(c.atom);if(o>=0){const l=e(t);i(t,[...l.slice(0,o),...l.slice(o+1)])}break}case"insert":{const o=c.before?e(s).indexOf(c.before):e(s).length;if(o>=0){const l=e(t);i(t,[...l.slice(0,o),c.value,...l.slice(o)])}break}case"move":{const o=e(s).indexOf(c.atom),l=c.before?e(s).indexOf(c.before):e(s).length;if(o>=0&&l>=0){const f=e(t);o<l?i(t,[...f.slice(0,o),...f.slice(o+1,l),f[o],...f.slice(l)]):i(t,[...f.slice(0,l),f[o],...f.slice(l,o),...f.slice(o+1)])}break}}}):d(e=>e(a).atomList);return s},t,n||H)}function X(t){const n=Symbol(),r=d(n),u=d((a,s)=>{const e=a(r);return e!==n?e:t(a,s)},(a,s,e)=>{if(e===k)s(r,n);else if(typeof e=="function"){const i=a(u);s(r,e(i))}else s(r,e)});return u}const z=t=>typeof(t==null?void 0:t.then)=="function";function Y(t){return n=>({...n,getItem:(r,u)=>{const a=e=>t(e)?e:u,s=n.getItem(r,u);return z(s)?s.then(a):a(s)}})}function D(t=()=>{try{return window.localStorage}catch(r){return}},n){var r;let u,a;const s={getItem:(c,o)=>{var l,f;const b=m=>{if(m=m||"",u!==m){try{a=JSON.parse(m,n==null?void 0:n.reviver)}catch(p){return o}u=m}return a},h=(f=(l=t())==null?void 0:l.getItem(c))!=null?f:null;return z(h)?h.then(b):b(h)},setItem:(c,o)=>{var l;return(l=t())==null?void 0:l.setItem(c,JSON.stringify(o,n==null?void 0:n.replacer))},removeItem:c=>{var o;return(o=t())==null?void 0:o.removeItem(c)}},e=c=>(o,l,f)=>c(o,b=>{let h;try{h=JSON.parse(b||"")}catch(m){h=f}l(h)});let i=(r=t())==null?void 0:r.subscribe;return!i&&typeof window!="undefined"&&typeof window.addEventListener=="function"&&window.Storage&&t()instanceof window.Storage&&(i=(c,o)=>{const l=f=>{f.storageArea===t()&&f.key===c&&o(f.newValue)};return window.addEventListener("storage",l),()=>{window.removeEventListener("storage",l)}}),i&&(s.subscribe=e(i)),s}const Z=D();function tt(t,n,r=Z,u){const a=u==null?void 0:u.getOnInit,s=d(a?r.getItem(t,n):n);return s.onMount=e=>{e(r.getItem(t,n));let i;return r.subscribe&&(i=r.subscribe(t,e,n)),i},d(e=>e(s),(e,i,c)=>{const o=typeof c=="function"?c(e(s)):c;return o===k?(i(s,n),r.removeItem(t)):o instanceof Promise?o.then(l=>(i(s,l),r.setItem(t,l))):(i(s,o),r.setItem(t,o))})}function et(t,n){const r=a=>{if("e"in a)throw a.e;return a.d},u=d(a=>{var s;let e=t(a);const i=(s=e[Symbol.observable])==null?void 0:s.call(e);i&&(e=i);let c;const o=()=>new Promise(v=>{c=v}),l=n&&"initialValue"in n?{d:typeof n.initialValue=="function"?n.initialValue():n.initialValue}:o();let f,b;const h=v=>{b=v,c==null||c(v),f==null||f(v)};let m,p;const O=()=>!f,L=()=>{m&&(clearTimeout(p),m.unsubscribe()),m=e.subscribe({next:v=>h({d:v}),error:v=>h({e:v}),complete:()=>{}}),O()&&n!=null&&n.unstable_timeout&&(p=setTimeout(()=>{m&&(m.unsubscribe(),m=void 0)},n.unstable_timeout))};L();const g=d(b||l);return g.onMount=v=>(f=v,b&&v(b),m?clearTimeout(p):L(),()=>{f=void 0,m&&(m.unsubscribe(),m=void 0)}),[g,e,o,L,O]});return d(a=>{const[s]=a(u),e=a(s);return e instanceof Promise?e.then(r):r(e)},(a,s,e)=>{const[i,c,o,l,f]=a(u);if("next"in c)f()&&(s(i,o()),l()),c.next(e);else throw new Error("observable is not subject")})}const E=new WeakMap,nt=(t,n)=>(E.has(n)?E:E.set(n,t())).get(n),rt=t=>t instanceof Promise,N={state:"loading"};function ot(t){return nt(()=>{const n=new WeakMap,r=d(0),u=d((a,{setSelf:s})=>{a(r);let e;try{e=a(t)}catch(l){return{state:"hasError",error:l}}if(!rt(e))return{state:"hasData",data:e};const i=e,c=n.get(i);return c||(i.status==="fulfilled"?n.set(i,{state:"hasData",data:i.value}):i.status==="rejected"?n.set(i,{state:"hasError",error:i.reason}):i.then(l=>{n.set(i,{state:"hasData",data:l})},l=>{n.set(i,{state:"hasError",error:l})}).finally(s),n.get(i)||(n.set(i,N),N))},(a,s)=>{s(r,e=>e+1)});return d(a=>a(u))},t)}const T=(t,n,r)=>(n.has(r)?n:n.set(r,t())).get(r),st=new WeakMap,it=(t,n,r)=>{const u=T(()=>new WeakMap,st,n);return T(t,u,r)},at=t=>t instanceof Promise,ut=()=>{};function ct(t,n=ut){return it(()=>{const r=new WeakMap,u=new WeakMap,a=d(0),s=d((e,{setSelf:i})=>{e(a);const c=e(s),o=e(t);if(!at(o))return{v:o};if(o!==(c==null?void 0:c.p)&&(o.status==="fulfilled"?u.set(o,o.value):o.status==="rejected"?r.set(o,o.reason):o.then(l=>u.set(o,l),l=>r.set(o,l)).finally(i)),r.has(o))throw r.get(o);return u.has(o)?{p:o,v:u.get(o)}:c&&"v"in c?{p:o,f:n(c.v),v:c.v}:{p:o,f:n()}},(e,i)=>{i(a,c=>c+1)});return s.init=void 0,d(e=>{const i=e(s);return"f"in i?i.f:i.v},(e,i,...c)=>i(t,...c))},t,n)}function lt(t,n){const r=d(0);return d((u,a)=>(u(r),t(u,a)),(u,a,...s)=>{if(s.length===0)a(r,e=>e+1);else if(n)return n(u,a,...s)})}function ft(t){const n=d(void 0);return delete n.init,Object.defineProperty(n,"init",{get(){return t()}}),n}}}});
